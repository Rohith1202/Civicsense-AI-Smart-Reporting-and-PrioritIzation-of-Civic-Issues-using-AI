<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page_title|default('About Us - Civicsense AI', true) }}</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
    />
    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', filename='images/favicon.png') }}"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <style>
      /* Your original CSS is preserved here for identical design */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }
      :root {
        --color-text-primary: #1f2936;
        --color-text-secondary: #64748b;
        --color-bg-primary: #f8fafc;
        --color-bg-secondary: #e2e8f0;
        --color-bg-sidebar: #ffffff;
        --color-border-hr: #e2e8f0;
        --color-hover-primary: #3b82f6;
        --color-hover-secondary: #f1f5f9;
        --color-accent: #10b981;
        --color-error: #ef4444;
        --color-warning: #f59e0b;
        --color-shadow: rgba(0, 0, 0, 0.08);
        --sidebar-width: 280px;
      }
      body.dark-theme {
        --color-text-primary: #f1f5f9;
        --color-text-secondary: #94a3b8;
        --color-bg-primary: #0f172a;
        --color-bg-secondary: #1e293b;
        --color-bg-sidebar: #1e293b;
        --color-border-hr: #334155;
        --color-shadow: rgba(0, 0, 0, 0.3);
        --color-hover-secondary: #334155;
      }
      body {
        min-height: 100vh;
        background: var(--color-bg-primary);
        display: flex;
        flex-direction: column;
      }
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: var(--sidebar-width);
        height: 100vh;
        display: flex;
        flex-direction: column;
        background: var(--color-bg-sidebar);
        border-right: 1px solid var(--color-border-hr);
        box-shadow: 0 4px 20px var(--color-shadow);
        z-index: 1000;
      }
      .sidebar-header {
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom: 1px solid var(--color-border-hr);
        background: white;
        color: #0d47a1;
        position: relative;
      }
      .header-brand {
        display: flex;
        align-items: center;
        gap: 12px;
        transition: opacity 0.4s ease;
      }

      .centered-logo {
        width: 100%;
        display: flex;
        justify-content: center; /* centers horizontally */
        align-items: center;
      }
      .logo-img {
        height: 100px;
        width: auto;
        object-fit: contain;
      }
      .sidebar-content {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
      }
      .menu-list {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 4px;
      }
      .menu-link {
        display: flex;
        gap: 12px;
        border-radius: 12px;
        padding: 12px 16px;
        align-items: center;
        text-decoration: none;
        color: var(--color-text-primary);
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
      }
      .menu-link::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 100%;
        background: var(--color-hover-primary);
        z-index: -1;
      }
      .menu-link.active {
        color: white;
      }
      .menu-link.active::before {
        width: 100%;
      }
      .menu-link:not(.logout-menu-link):not(.active):hover {
        background-color: var(--color-hover-secondary);
      }
      .logout-menu-link {
        color: var(--color-error) !important;
      }
      .logout-menu-link:hover {
        background: rgba(239, 68, 68, 0.1) !important;
        color: var(--color-error) !important;
        font-weight: 600;
      }
      .theme-toggle {
        width: 100%;
        min-height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        cursor: pointer;
        border: none;
        padding: 0 16px;
        color: var(--color-text-primary);
        background: var(--color-bg-sidebar);
      }
      .theme-label {
        display: flex;
        gap: 12px;
        align-items: center;
        flex: 1;
      }
      .theme-toggle-track {
        height: 24px;
        width: 48px;
        border-radius: 999px;
        background: var(--color-bg-secondary);
        position: relative;
      }
      body.dark-theme .theme-toggle-track {
        background: var(--color-hover-primary);
      }
      .theme-toggle-indicator {
        position: absolute;
        top: 3px;
        left: 3px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background-color: #fff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
      }
      body.dark-theme .theme-toggle-indicator {
        transform: translateX(24px);
      }
      .main-content {
        margin-left: var(--sidebar-width);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .main-content-inner {
        flex: 1;
        padding: 30px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .page-header {
        margin-bottom: 30px;
        padding: 30px;
        border-radius: 20px;
        background: linear-gradient(
          135deg,
          #0f0c29 0%,
          #302b63 50%,
          #24243e 100%
        );
        background: linear-gradient(135deg, #ff512f 0%, #00b7ff 100%);
        color: white;
        box-shadow: 0 4px 20px var(--color-shadow);
      }
      .page-title {
        font-size: 2.25rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .page-subtitle {
        font-size: 1.1rem;
        opacity: 0.9;
        margin-top: 4px;
      }
      .about-section {
        background: var(--color-bg-sidebar);
        padding: 32px;
        border-radius: 16px;
        border: 1px solid var(--color-border-hr);
        margin-bottom: 30px;
      }
      .section-title {
        font-size: 1.8rem;
        font-weight: 600;
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 1px solid var(--color-border-hr);
        display: flex;
        align-items: center;
        gap: 12px;
        color: var(--color-text-primary); /* Add this line */
      }
      .about-section p {
        color: var(--color-text-secondary);
        line-height: 1.7;
        font-size: 1.05rem;
      }
      .guide-card {
        display: flex;
        gap: 30px;
        align-items: center;
        background: var(--color-bg-primary);
        border-radius: 16px;
        padding: 24px;
        border: 1px solid var(--color-border-hr);
      }
      .guide-photo {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid var(--color-bg-sidebar);
        box-shadow: 0 4px 12px var(--color-shadow);
        flex-shrink: 0;
      }
      .guide-name {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--color-hover-primary);
      }
      .guide-role {
        font-size: 1rem;
        color: var(--color-accent);
        font-weight: 500;
        margin-bottom: 12px;
      }
      .guide-bio {
        font-size: 0.95rem;
        color: var(--color-text-secondary);
        line-height: 1.6;
        margin-bottom: 16px;
        font-style: italic;
      }
      .team-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 30px;
      }
      .team-card {
        background: var(--color-bg-sidebar);
        border-radius: 16px;
        border: 1px solid var(--color-border-hr);
        text-align: center;
        padding: 30px 20px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 16px var(--color-shadow);
      }
      .team-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 10px 30px var(--color-shadow);
        border-color: var(--color-hover-primary);
      }
      .team-leader {
        border: 2px solid var(--color-warning);
      }
      .team-leader-tag {
        position: absolute;
        top: 20px;
        left: -35px;
        background: var(--color-warning);
        color: white;
        padding: 4px 40px;
        font-size: 0.8rem;
        font-weight: 600;
        transform: rotate(-45deg);
      }
      .team-photo {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        margin: 0 auto 20px auto;
        border: 4px solid var(--color-border-hr);
      }
      .team-name {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--color-hover-primary);
        margin-bottom: 4px;
      }
      .team-role {
        font-size: 0.9rem;
        color: var(--color-accent);
        font-weight: 500;
        margin-bottom: 16px;
        text-transform: uppercase;
      }
      .team-info {
        font-size: 0.9rem;
        color: var(--color-text-secondary);
        line-height: 1.6;
        margin-bottom: 20px;
      }
      .social-links {
        display: flex;
        justify-content: center;
        gap: 16px;
        margin-top: auto;
      }
      .social-link {
        color: var(--color-text-secondary);
        text-decoration: none;
        font-size: 1.3rem;
        transition: color 0.3s ease;
      }
      .social-link:hover {
        color: var(--color-hover-primary);
      }
      .social-link[title="Email"] {
        color: var(--color-error);
      }
      .social-link[title="Email"]:hover {
        color: #b91c1c;
      }
      .footer-section {
        background: var(--color-bg-secondary);
        border-top: 1px solid var(--color-border-hr);
        margin-top: auto;
        padding: 20px;
      }
      .footer-content {
        display: flex;
        justify-content: space-between;
        color: var(--color-text-secondary);
        font-size: 0.9rem;
      }
      .footer-developer a {
        color: #0d47a1;
        font-weight: bold;
        text-decoration: none;
      }
      .sidebar-profile-pic {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid var(--color-border-hr);
        background-color: var(--color-bg-secondary);
      }
      .dark-mode-logo {
        display: none;
      }
      body.dark-theme .sidebar-header {
        background: var(--color-bg-sidebar);
      }
      body.dark-theme .light-mode-logo {
        display: none;
      }
      body.dark-theme .dark-mode-logo {
        display: block;
        margin: 0 auto;
        transform: translateX(10px);
      }

      .light-mode-logo {
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="header-brand">
          <div class="header-brand centered-logo">
            <img
              src="{{ url_for('static', filename='images/Civicsense.png') }}"
              alt="Civicsense AI Logo"
              class="logo-img light-mode-logo"
            />
            <img
              src="{{ url_for('static', filename='images/Civicsense-dark.png') }}"
              alt="Civicsense AI Logo Dark"
              class="logo-img dark-mode-logo"
            />
          </div>
        </div>
      </div>
      <div class="sidebar-content">
        <ul class="menu-list">
          <li>
            <a href="{{ url_for('dashboard') }}" class="menu-link"
              ><span class="material-symbols-rounded">dashboard</span
              >Dashboard</a
            >
          </li>
          <li>
            <a href="{{ url_for('report_issue') }}" class="menu-link"
              ><span class="material-symbols-rounded">report_problem</span
              >Report an Issue</a
            >
          </li>
          <li>
            <a href="{{ url_for('my_submissions') }}" class="menu-link"
              ><span class="material-symbols-rounded">description</span>My
              Submissions</a
            >
          </li>
          <li>
            <a href="{{ url_for('check_status') }}" class="menu-link"
              ><span class="material-symbols-rounded">task_alt</span>Check
              Status</a
            >
          </li>
          <li>
            <a href="{{ url_for('ai_chatbot') }}" class="menu-link"
              ><span class="material-symbols-rounded">smart_toy</span>AI
              Chatbot</a
            >
          </li>
          <li>
            <a href="{{ url_for('analytics') }}" class="menu-link"
              ><span class="material-symbols-rounded">trending_up</span
              >Analytics</a
            >
          </li>
          <li>
            <a href="{{ url_for('feedback') }}" class="menu-link"
              ><span class="material-symbols-rounded">star_rate</span
              >Feedback</a
            >
          </li>
          <li>
            <a href="{{ url_for('help_support') }}" class="menu-link"
              ><span class="material-symbols-rounded">help</span>Help/Support</a
            >
          </li>
          <li>
            <a href="{{ url_for('about_us') }}" class="menu-link active"
              ><span class="material-symbols-rounded">info</span>About Us</a
            >
          </li>
          <li>
            <a href="{{ url_for('my_profile') }}" class="menu-link"
              ><img
                src=""
                alt="My Profile"
                id="sidebarProfilePic"
                class="sidebar-profile-pic"
              /><span class="menu-label">My Profile</span></a
            >
          </li>
          <li>
            <a href="{{ url_for('logout') }}" class="menu-link logout-menu-link"
              ><span class="material-symbols-rounded">logout</span>Logout</a
            >
          </li>
        </ul>
        <button class="theme-toggle">
          <div class="theme-label">
            <span class="material-symbols-rounded">dark_mode</span
            ><span class="theme-text">Dark Mode</span>
          </div>
          <div class="theme-toggle-track">
            <div class="theme-toggle-indicator"></div>
          </div>
        </button>
      </div>
    </aside>

    <div class="main-content">
      <div class="main-content-inner">
        <header class="page-header">
          <div>
            <h1 class="page-title">
              <span class="material-symbols-rounded">info</span>About Civicsense
              AI
            </h1>
            <p class="page-subtitle">
              Connecting citizens with their city, powered by intelligence.
            </p>
          </div>
        </header>

        <section class="about-section">
          <h2 class="section-title">
            <span class="material-symbols-rounded">rocket_launch</span>Our
            Mission
          </h2>
          <p>
            Our mission is to empower citizens by providing a seamless and
            efficient platform to report civic issues. We leverage cutting-edge
            AI to ensure that every voice is heard, every problem is
            prioritized, and every community becomes a better place to live. We
            believe in building smarter cities by connecting people and
            government through technology.
          </p>
        </section>

        <section class="about-section">
          <h2 class="section-title">
            <span class="material-symbols-rounded">groups</span>Meet The Team
          </h2>
          <div class="team-grid">
            {% for dev in developers %}
            <div class="team-card {% if dev.is_leader %}team-leader{% endif %}">
              {% if dev.is_leader %}
              <div class="team-leader-tag">Team Leader</div>
              {% endif %}
              <img
                src="{{ url_for('static', filename='uploads/' + dev.photo_filename if dev.photo_filename else 'images/female_avatar.png') }}"
                alt="Photo of {{ dev.name }}"
                class="team-photo"
              />
              <h3 class="team-name">{{ dev.name }}</h3>
              <p class="team-role">{{ dev.role }}</p>
              <div class="team-info">
                {{ dev.year }}, {{ dev.department }}<br />
                Reg. No: {{ dev.reg_no }}<br />
                {{ dev.institute_name }}
              </div>
              <div class="social-links">
                {% if dev.linkedin_url %}
                <a
                  href="{{ dev.linkedin_url }}"
                  class="social-link"
                  title="LinkedIn"
                  target="_blank"
                >
                  <img
                    src="https://img.icons8.com/fluent/48/000000/linkedin.png"
                    style="width: 24px; height: 24px"
                  />
                </a>
                {% endif %} {% if dev.github_url %}
                <a
                  href="{{ dev.github_url }}"
                  class="social-link"
                  title="GitHub"
                  target="_blank"
                >
                  <img
                    src="https://img.icons8.com/fluent/48/000000/github.png"
                    style="width: 24px; height: 24px"
                  />
                </a>
                {% endif %} {% if dev.email %}
                <a
                  href="mailto:{{ dev.email }}"
                  class="social-link"
                  title="Email"
                >
                  <span class="material-symbols-rounded">mail</span>
                </a>
                {% endif %}
              </div>
            </div>
            {% else %}
            <p>
              Team information is currently unavailable (not updated). Please
              try again later.
            </p>
            {% endfor %}
          </div>
        </section>
        <section class="about-section">
          <h2 class="section-title">
            <span class="material-symbols-rounded">school</span>Our Guide
          </h2>

          {% if guide %}
          <div class="guide-card">
            <img
              src="{{ url_for('static', filename='uploads/' + guide.photo_filename if guide.photo_filename else 'images/faculty.png') }}"
              alt="Photo of {{ guide.name }}"
              class="guide-photo"
            />
            <div class="guide-details">
              <h3 class="guide-name">{{ guide.name }}</h3>
              <p class="guide-role">{{ guide.role | safe }}</p>
              <p class="guide-bio">"{{ guide.bio_quote }}"</p>
              <div class="social-links" style="justify-content: flex-start">
                {% if guide.linkedin_url %}
                <a
                  href="{{ guide.linkedin_url }}"
                  class="social-link"
                  title="LinkedIn"
                  target="_blank"
                >
                  <img
                    src="https://img.icons8.com/fluent/48/000000/linkedin.png"
                    style="width: 24px; height: 24px"
                  />
                </a>
                {% endif %} {% if guide.email %}
                <a
                  href="mailto:{{ guide.email }}"
                  class="social-link"
                  title="Email"
                >
                  <span class="material-symbols-rounded">mail</span>
                </a>
                {% endif %}
              </div>
            </div>
          </div>
          {% else %}
          <p>
            Guide data is currently unavailable (not updated). Please try again
            later.
          </p>
          {% endif %}
        </section>
      </div>

      <footer class="footer-section">
        <div class="footer-content">
          <div class="footer-copyright">
            Copyright Â© 2025 Civicsense AI. All rights reserved.
          </div>
          <div class="footer-developer">
            Developed by <a href="team-details">Team UNIQUE</a>
          </div>
        </div>
      </footer>
    </div>

    <script>
      // Your original JavaScript for theme toggling and sidebar profile picture is preserved
      document.addEventListener("DOMContentLoaded", function () {
        const themeToggle = document.querySelector(".theme-toggle");

        async function loadSidebarProfilePic() {
          const sidebarPicElement =
            document.getElementById("sidebarProfilePic");
          if (!sidebarPicElement) return;
          try {
            const response = await fetch("/api/user/profile");
            if (!response.ok) return;
            const data = await response.json();
            if (data.photo_url) {
              sidebarPicElement.src = data.photo_url;
            } else {
              sidebarPicElement.src =
                "{{ url_for('static', filename='images/female_avatar.png') }}";
            }
          } catch (error) {
            console.error("Could not load sidebar profile picture:", error);
          }
        }
        loadSidebarProfilePic();

        const activeMenuLink = document.querySelector(
          ".sidebar .menu-link.active"
        );
        if (activeMenuLink) {
          activeMenuLink.scrollIntoView({
            behavior: "smooth",
            block: "center",
          });
        }

        const updateThemeIcon = () => {
          const themeIcon = themeToggle.querySelector(
            ".material-symbols-rounded"
          );
          const isDark = document.body.classList.contains("dark-theme");
          themeIcon.textContent = isDark ? "light_mode" : "dark_mode";
        };

        const savedTheme = localStorage.getItem("civicsense-theme");
        const systemPrefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        const shouldUseDarkTheme =
          savedTheme === "dark" || (!savedTheme && systemPrefersDark);
        document.body.classList.toggle("dark-theme", shouldUseDarkTheme);
        updateThemeIcon();

        themeToggle.addEventListener("click", () => {
          const isDark = document.body.classList.toggle("dark-theme");
          localStorage.setItem("civicsense-theme", isDark ? "dark" : "light");
          updateThemeIcon();
        });
      });
    </script>
  </body>
</html>
